プログラム名：IkaLogPlugins

用途：IkaLog向けプラグイン

使い方：
* 本家IkaLogをgit cloneしてくる( https://github.com/hasegaw/IkaLog )
* 本リポジトリのikalogフォルダをそのまま本家IkaLogの中に放り込む
* IkaUI.pyかIkaConfig.pyに使用するプラグインの設定を追加する
* 通常通りIkaLogを使うだけ


プラグイン個別解説：

screen_log：
試合開始やキルされた瞬間などIkaLogからイベントが発行されたタイミングで
スクリーンショットを撮って保存するプラグイン。
誤検出報告用を意図した物ですが、決定的瞬間の撮影用としても使えます。
撮影するタイミングは
* マッチング開始
* マッチングで8人そろった
* ステージ発表
* 試合開始
* 試合終了
* キルした
* キルされた
* キルされた武器をIkaLogが認識した
* 個人成績発表
* IkaLogが個人成績の認識を終えた
* 結果発表終了
* IkaLogが試合情報を破棄した


免責事項：
これに同梱されたプログラムその他が原因で発生したいかなる損害も当方は一切関知しません。
また、全てのプログラムがウイルスではないという証明も、ウイルスに感染していないという証明もありません。
自己責任でお使いください。

Q&A：
  Q：導入の仕方わからない
  A：公式でプラグイン導入にはコード改変必須とされているため
  そういった知識がない方では使えないのはどうしようもありません。

  Q:その他バグをみつけた or 動作しない or 要望がある
  A:確認次第対応可能であれば対応します。
  公開しても問題が無いメールアドレスにて
  下部に記載されたアドレスまでメールをどうぞ。


メールアドレス：ｓｗｅｅｔｉｅ（あっと）ｃｌｉｃｋ３．ｏｒｇ


自作部分のライセンス：
・本ライセンスにおいて、全ての条項は「変更の有無を問わず、明示暗示を問わず、商業慈善を問わず、
  個人法人を問わず、保持使用を問わず、有料無料を問わず、全体一部を問わず、コピー派生を問わず
  実行ファイルソースファイルを問わず、故意錯誤を問わず」と装飾されている物として扱う。
・著作権者は本ソフトウェアに関する一切の保障義務をもたない。
・上記条項唯一の例外として、本ライセンスに違反した場合を除いて著作権者から
  本ソフトウェアに関する一切の法的措置を受ける事が無い事のみ保証される。
・著作権者やその他保持者がこのライセンスの範囲で行う活動に支障が無い範囲であれば何を行っても構わない。
・上記条項の”何を行っても構わない”には本ソフトウェアの製作者を偽っての再配布も含まれる。
・全ての権利の行使において、著作権者への連絡、著作権者やライセンス条項の記載、
  適用ライセンスなどの制限は一切存在しない。
著作権者名：sweetie


面倒な人向けライセンス解説：
作者やライセンスの記載義務すらありません。
再配布や改造など申告なし記述なしで好きにできます。


スペシャルサンクス：
IkaLog作者様 Takeshi HASEGAWA
偉大なるSplatoon開発者様
アイディア協力 ayokura


技術情報とどうでもいい話：
screen_logはclick3.ScreenLogを突っ込んでやれば動く
importなどはよしなにする感じで。
screen_logはプラグイン習作だが、同時にほしいからでもある。
理想を言えば、これをONにしたうえで一試合して
出てきたSSを適当に放り投げるとそのまま作者さんが調整で使用できる
といいなぁという思いのもと作った。
現実には、誤検出には使えても検出漏れには無力なので
その用途でいくならもう少し頑張る必要がある。
プラグインの配布方法がめっちゃしんどい、というか使い方書くのが無理。
IkaLogのプラグイン機構そのものに手を入れたいレベルだがさて。
一応importlibを使えば動的に読むことはできるっぽいので
IkaUIならpluginフォルダは動的に読み込むとかすればいけそうではある。
問題はIkaConfigの方だが、CUI版使おうという人なら
わかってるはずだからそのまま放置でも大丈夫だろうか？このへん難しい。
screen_log作成中にOpenCV由来でファイル名が文字化けする問題にぶち当たった。
具体的にはcv2.imwriteに渡すパスがマルチバイト文字を含むと化ける。
os.mkdirに突っ込む分には問題ないので
OpenCVの中で何かおかしくなっているのは確実。
おそらくはコンパイル時のオプションか何かが原因だと思われる。
ので、ライブラリのインストール方法によっては問題ないかもしれない。
が、さすがにライブラリが悪いで放置するのは嫌なので
ASCIIなファイルに一度出力した後os.renameで置き換えることとした。
手元ではこれで問題なく動いている。
screen_logのファイル名は仕分けが楽なようにとちょっとした配慮がしてある。
まず、ファイル名先頭は日時ではなくSSの種類なこと
例えばmatchedであるべきところで別のシーンであるパターンがないか
みたいなチェックではmatchedだけまとめて閲覧したくなるだろうからだ。
逆に日時ソートしたい場合は標準のファイル作成日時ソートが使える。
ほかにも、誤検出判断に使えるよう武器名などもファイル名にだしている。


